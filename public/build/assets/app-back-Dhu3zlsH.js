document.addEventListener("DOMContentLoaded",()=>{if(document.getElementById("dashboard")){const l=[12,19,3,5,2,3],e=[300,50,100];new Chart(document.getElementById("ventasChart"),{type:"bar",data:{labels:["Ene","Feb","Mar","Abr","May","Jun"],datasets:[{label:"Ventas",data:l}]},options:{responsive:!0,scales:{y:{beginAtZero:!0}}}}),new Chart(document.getElementById("usuariosChart"),{type:"pie",data:{labels:["Activos","Inactivos","Pendientes"],datasets:[{data:e}]},options:{responsive:!0}})}});document.addEventListener("DOMContentLoaded",()=>{var a;(a=document.getElementById("buttonNuevaPelicula"))==null||a.addEventListener("click",()=>{var n;(n=document.getElementById("modal-create"))==null||n.showModal()}),document.querySelectorAll("button.edit").forEach(n=>{n.addEventListener("click",o=>{l("edit-"+o.currentTarget.dataset.idpelicula)})}),document.querySelectorAll("button.delete").forEach(n=>{n.addEventListener("click",o=>{const c=document.getElementById("modal-delete-"+o.currentTarget.dataset.idpelicula);c==null||c.showModal()})}),document.querySelectorAll("[data-close-modal]").forEach(n=>{n.addEventListener("click",()=>{const o=n.getAttribute("data-close-modal");e(o)})});function l(n){const o=document.getElementById("modal-"+n),c=document.getElementById("backdrop-"+n);o&&c&&(o.showModal(),c.classList.remove("hidden"))}function e(n){const o=document.getElementById("modal-"+n),c=document.getElementById("backdrop-"+n);o&&c&&(o.close(),c.classList.add("hidden"))}document.querySelectorAll("dialog").forEach(n=>{n.addEventListener("keydown",o=>{if(o.key==="Escape"){const c=n.id.replace("modal-","");e(c)}}),n.addEventListener("click",o=>{const c=n.getBoundingClientRect();if(o.clientX<c.left||o.clientX>c.right||o.clientY<c.top||o.clientY>c.bottom){const i=n.id.replace("modal-","");e(i)}})});const t=document.getElementById("flash-message");t&&setTimeout(()=>t.remove(),5e3);const d=document.getElementById("resetFiltros"),s=d==null?void 0:d.closest("form");d&&s&&d.addEventListener("click",n=>{n.preventDefault(),s.querySelectorAll("input, select").forEach(o=>{o.tagName==="SELECT"?o.selectedIndex=0:o.value=""}),s.submit()})});document.addEventListener("DOMContentLoaded",()=>{document.querySelectorAll("[data-open-modal]").forEach(e=>{e.addEventListener("click",()=>{const t=e.getAttribute("data-open-modal"),d=document.getElementById("modal-"+t);d&&d.showModal()})}),document.querySelectorAll("[data-close-modal]").forEach(e=>{e.addEventListener("click",()=>{const t=e.getAttribute("data-close-modal"),d=document.getElementById("modal-"+t);d&&d.close()})}),document.querySelectorAll("[data-close-flash]").forEach(e=>{e.addEventListener("click",()=>{const t=document.getElementById("flash-message");t&&t.remove()})}),document.querySelectorAll("dialog").forEach(e=>{e.addEventListener("click",t=>{const d=e.getBoundingClientRect();(t.clientX<d.left||t.clientX>d.right||t.clientY<d.top||t.clientY>d.bottom)&&e.close()}),e.addEventListener("keydown",t=>{t.key==="Escape"&&e.close()})}),document.querySelectorAll('input[name="cantidadFilas"], input[name="cantidadColumnas"]').forEach(e=>{e.addEventListener("input",()=>{let t=parseInt(e.value);t>13&&(e.value=13),t<5&&(e.value=5)})});const l=document.getElementById("flash-message");l&&setTimeout(()=>l.remove(),3e3)});document.addEventListener("DOMContentLoaded",()=>{document.querySelectorAll("[data-open-modal]").forEach(e=>{e.addEventListener("click",()=>{const t=e.getAttribute("data-open-modal"),d=document.getElementById("modal-"+t);d&&d.showModal()})}),document.querySelectorAll("[data-close-modal]").forEach(e=>{e.addEventListener("click",()=>{const t=e.getAttribute("data-close-modal"),d=document.getElementById("modal-"+t);d&&d.close()})}),document.querySelectorAll("[data-close-flash]").forEach(e=>{e.addEventListener("click",()=>{const t=document.getElementById("flash-message");t&&t.remove()})}),document.querySelectorAll("dialog").forEach(e=>{e.addEventListener("click",t=>{const d=e.getBoundingClientRect();(t.clientX<d.left||t.clientX>d.right||t.clientY<d.top||t.clientY>d.bottom)&&e.close()}),e.addEventListener("keydown",t=>{t.key==="Escape"&&e.close()})});const l=document.getElementById("flash-message");l&&setTimeout(()=>l.remove(),3e3)});document.addEventListener("DOMContentLoaded",()=>{document.querySelectorAll("[data-open-modal]").forEach(e=>{e.addEventListener("click",()=>{const t=e.getAttribute("data-open-modal"),d=document.getElementById("modal-"+t);d&&d.showModal()})}),document.querySelectorAll("[data-close-modal]").forEach(e=>{e.addEventListener("click",()=>{const t=e.getAttribute("data-close-modal"),d=document.getElementById("modal-"+t);d&&d.close()})}),document.querySelectorAll("[data-close-flash]").forEach(e=>{e.addEventListener("click",()=>{const t=document.getElementById("flash-message");t&&t.remove()})}),document.querySelectorAll("[data-edit-slider]").forEach(e=>{e.addEventListener("click",()=>{const t=e.getAttribute("data-id"),d=e.getAttribute("data-pelicula-id"),s=document.getElementById("sliderForm");s.action=`/adminSH/sliders/${t}`,document.getElementById("modalTitle").innerText="Editar Slider",document.getElementById("sliderMethod").value="PUT";const a=document.getElementById("idPelicula");for(let o=0;o<a.options.length;o++)if(parseInt(a.options[o].value)===parseInt(d)){a.selectedIndex=o;break}const n=document.getElementById("modal-create");n&&n.showModal()})}),document.querySelectorAll("dialog").forEach(e=>{e.addEventListener("click",t=>{const d=e.getBoundingClientRect();(t.clientX<d.left||t.clientX>d.right||t.clientY<d.top||t.clientY>d.bottom)&&e.close()}),e.addEventListener("keydown",t=>{t.key==="Escape"&&e.close()})});const l=document.getElementById("flash-message");l&&setTimeout(()=>l.remove(),3e3)});
